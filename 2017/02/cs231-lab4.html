<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>CS231 Lab4</title>
    <meta name="description" content="This asm program for the MIPS processor takes an array of numbers and returns it in reverse order....">
    <meta name="author"      content="Henry Brooks">
    <meta name="keywords"    content="CS231, Assembly, Author: Henry Brooks">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="http://www.example.com/2017/02/cs231-lab4.html">
    <link rel="next" href="/2017/02/cs211-lab2-in-racket.html">
    <link rel="prev" href="/2017/02/cs231-lab4.html">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml"
          href="/feeds/all.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml"
          href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-xxxxx', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <!-- A standard Twitter Bootstrap nav bar -->
    <header class="navbar navbar-default navbar-inverse"
            role="banner">
      <div class="container">
        <div class="navbar-header">
          <button type="button"
                  class="navbar-toggle"
                  data-toggle="collapse"
                  data-target=".our-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/index.html" class="navbar-brand">Henry Brooks</a>
        </div>
        <div class="collapse navbar-collapse our-nav-collapse"
             role="navigation">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Tags <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">All Posts</a></li>

<li><a href="/tags/20-Project.html">20% Project</a></li>

<li><a href="/tags/Assembly.html">Assembly</a></li>

<li><a href="/tags/Author-Henry-Brooks.html">Author: Henry Brooks</a></li>

<li><a href="/tags/blogging.html">blogging</a></li>

<li><a href="/tags/C.html">C++</a></li>

<li><a href="/tags/Case-Study.html">Case Study</a></li>

<li><a href="/tags/CodeFights.html">CodeFights</a></li>

<li><a href="/tags/CS211.html">CS211</a></li>

<li><a href="/tags/CS231.html">CS231</a></li>

<li><a href="/tags/Cybersecurity.html">Cybersecurity</a></li>

<li><a href="/tags/Daily-Desmos.html">Daily Desmos</a></li>

<li><a href="/tags/Desmos.html">Desmos</a></li>

<li><a href="/tags/DSL.html">DSL</a></li>

<li><a href="/tags/Dynamic-Programming.html">Dynamic Programming</a></li>

<li><a href="/tags/hackerrank.html">hackerrank</a></li>

<li><a href="/tags/Haskell.html">Haskell</a></li>

<li><a href="/tags/MCS511.html">MCS511</a></li>

<li><a href="/tags/Memoization.html">Memoization</a></li>

<li><a href="/tags/MIS522.html">MIS522</a></li>

<li><a href="/tags/Project-Euler.html">Project Euler</a></li>

<li><a href="/tags/Python.html">Python</a></li>

<li><a href="/tags/Racket.html">Racket</a></li>

<li><a href="/tags/Reading-Assignment.html">Reading Assignment</a></li>

<li><a href="/tags/Teaching-Credential.html">Teaching Credential</a></li>
              </ul>
            </li>
            <li>
              <a href="/About.html">About</a>
            </li> 
            <li><a href="/feeds/all.atom.xml">Atom</a></li>
            <li><a href="/feeds/all.rss.xml">RSS</a></li>
          </ul>
        </div>
      </div>
    </header>
    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">





          <article>
  <header>
    <h1>CS231 Lab4</h1>
    <p class='date-and-tags'>
<time datetime="2017-02-06" pubdate="true">2017-02-06</time> :: <span class="tags"><a href="/tags/CS231.html">CS231</a>, <a href="/tags/Assembly.html">Assembly</a></span></p>
    <p class='authors'>By: <span class="authors"><a href="/tags/Author-Henry-Brooks.html">Henry Brooks</a></span></p>
  </header>

<p>This asm program for the MIPS processor takes an array of numbers and returns it in reverse order.</p>
<!-- more-->

<div class="brush: asm">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="c">## Henry Brooks</span>

		<span class="na">.data</span>
<span class="nl">arry:</span>		<span class="na">.word</span>		<span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>

<span class="nl">space:</span>  	<span class="na">.asciiz</span> 	<span class="s">"\n"</span>
<span class="nl">header1:</span>	<span class="na">.asciiz</span> 	<span class="s">"======================================================================\n"</span>
<span class="nl">header2:</span>	<span class="na">.asciiz</span> 	<span class="s">"Program Description: \tThis program asks a user how many numbers they\n\t\t\tadd to an array, then returns the array in reverse order\n"</span>
<span class="nl">header3:</span>	<span class="na">.asciiz</span> 	<span class="s">"Author:              \tHenry Brooks\n"</span>
<span class="nl">header4:</span>	<span class="na">.asciiz</span> 	<span class="s">"Creation Date:       \t02/06/2017\n"</span>
<span class="nl">header5:</span>	<span class="na">.asciiz</span> 	<span class="s">"======================================================================\n"</span>

<span class="nl">nl:</span>		<span class="na">.asciiz</span> 	<span class="s">"\n"</span>

<span class="nl">query1:</span>		<span class="na">.asciiz</span>		<span class="s">"Enter the number of elements:\n"</span>
<span class="nl">query2:</span>		<span class="na">.asciiz</span>		<span class="s">"Enter number "</span>
<span class="nl">query3:</span>		<span class="na">.asciiz</span>		<span class="s">":\t"</span>
<span class="nl">badcount1:</span>	<span class="na">.asciiz</span>		<span class="s">"Error array can&#39;t have more than 10 elements, try again!!\n"</span>
<span class="nl">badcount2:</span>	<span class="na">.asciiz</span>		<span class="s">"Error array can&#39;t have less than 1 element\n"</span>
<span class="nl">return:</span>		<span class="na">.asciiz</span>		<span class="s">"The content of array in reverse order is:\n"</span>

		<span class="na">.text</span>
<span class="nl">main:</span>
<span class="c">################### Print header information</span>
		<span class="nf">li</span> 			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>
		<span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header1</span>
		<span class="nf">syscall</span>
		<span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header2</span>
		<span class="nf">syscall</span>
		<span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header3</span>
		<span class="nf">syscall</span>
		<span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header4</span>
		<span class="nf">syscall</span>
		<span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header5</span>
		<span class="nf">syscall</span>

<span class="c">################### Print query</span>
		<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>
		<span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">query1</span>
		<span class="nf">syscall</span>

<span class="nl">main2:</span>
<span class="c">################### Take user input</span>
		<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">5</span>
		<span class="nf">syscall</span>

<span class="c">################### Check that input is valid</span>
		<span class="nf">ble</span>			<span class="no">$v0</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="no">badInputLo</span>
		<span class="nf">addi</span>			<span class="no">$t0</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="mi">10</span>
		<span class="nf">bgt</span>			<span class="no">$v0</span><span class="p">,</span> <span class="no">$t0</span><span class="p">,</span> <span class="no">badInputHi</span>			

<span class="c">################## If input is good set $s0 to $v0</span>
		<span class="no">addi</span>			<span class="no">$s0</span><span class="p">,</span> <span class="no">$v0</span><span class="p">,</span> <span class="mi">0</span>		<span class="c"># lengthOfArray</span>

<span class="c">################### Initialize $s1 to 0</span>
		<span class="nf">addi</span>			<span class="no">$s1</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="mi">0</span>		<span class="c"># counter</span>
		<span class="no">lw</span>			<span class="no">$t1</span><span class="p">,</span> <span class="no">arry</span>		<span class="c"># pointer</span>
		
<span class="c">################### Loop to collect inputs from user</span>
<span class="c">################### if ( count == value) break</span>
<span class="c">###################   else array[count] = input</span>
<span class="c">###################        count++</span>
<span class="c">###################        loop</span>

<span class="nl">read_loop:</span>	<span class="nf">beq</span>			<span class="no">$s0</span><span class="p">,</span> <span class="no">$s1</span><span class="p">,</span> <span class="no">exit</span>		<span class="c"># pointer is at end</span>
		

		<span class="no">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
		<span class="no">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">query2</span>		<span class="c"># load "enter number " message</span>
		<span class="no">syscall</span>						<span class="c"># print message</span>
		
		<span class="no">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">1</span>			<span class="c"># load print intger</span>
		<span class="no">add</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">$s1</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># load count</span>
		<span class="no">addi</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">$a0</span><span class="p">,</span> <span class="mi">1</span>		<span class="c"># increment for printing</span>
		<span class="no">syscall</span>
		
		<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
		<span class="no">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">query3</span>		<span class="c"># load ":\t"</span>
		<span class="no">syscall</span>
		
		<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">5</span>			<span class="c"># load user input program</span>
		<span class="no">syscall</span>						<span class="c"># get user input, (cin)</span>
		
		<span class="no">addi</span>			<span class="no">$t7</span><span class="p">,</span> <span class="no">$v0</span><span class="p">,</span> <span class="mi">0</span>
		
		<span class="nf">sw</span>			<span class="no">$t7</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="no">$t1</span><span class="p">)</span>
		
		<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">1</span>
		<span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="mi">0</span><span class="p">(</span><span class="no">$t1</span><span class="p">)</span>
		<span class="nf">syscall</span>	
		
		<span class="no">addi</span>			<span class="no">$s1</span><span class="p">,</span> <span class="no">$s1</span><span class="p">,</span> <span class="mi">1</span>
		<span class="nf">j</span> 			<span class="no">read_loop</span>		
		

<span class="c">#################### Loop to read off the elements of the array</span>
<span class="c">#print_loop:</span>
<span class="c">#		beq			$t2, $0, end	# check array end</span>
<span class="c">#	</span>
<span class="c">#		lw			$a0, ($t1)</span>
<span class="c">#		li			$v0, 1</span>
<span class="c">#		syscall</span>
<span class="c">#	</span>
<span class="c">#		li			$v0, 4</span>
<span class="c">#		syscall</span>
<span class="c">#	</span>
<span class="c">#		addi			$t2, $t2, -1</span>
<span class="c">#		addi			$t1, $t1, -4</span>
<span class="c">#		j	print_loop	# ret</span>


<span class="c">#################### User input for count is less than or equal to 0</span>
<span class="nl">badInputLo:</span>	<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>
		<span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">badcount2</span>
		<span class="nf">syscall</span>
		
		<span class="nf">j</span>			<span class="no">main2</span>

<span class="c">#################### User input for count is less than or equal to 0</span>
<span class="nl">badInputHi:</span>	<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>
		<span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">badcount1</span>
		<span class="nf">syscall</span>
		
		<span class="nf">j</span>			<span class="no">main2</span>
		
<span class="c">#################### exit from program</span>
<span class="nl">exit:</span>		<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
		<span class="no">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">header1</span>
		<span class="nf">syscall</span>
		
		<span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">return</span>		<span class="c"># load answer message</span>
		<span class="no">syscall</span>						<span class="c"># print answer message</span>
		
		<span class="no">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">header1</span>
		<span class="nf">syscall</span>
		
		<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">1</span>			<span class="c"># load print int</span>
		<span class="no">add</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">$s2</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># load sum</span>
		<span class="no">syscall</span>						<span class="c"># print sum</span>
</pre></div>
</td></tr></tbody></table>
</div>
  <footer>
    <ul class="pager">
    <li class="previous">
      <a href="/2017/02/cs231-lab4.html">&larr; <em>CS231 Lab4</em></a>
    </li>
    <li class="next">
      <a href="/2017/02/cs211-lab2-in-racket.html"><em>CS211 Lab2 in Racket</em> &rarr;</a>
    </li>
    </ul>
  </footer>
</article>
        </div>
      </div>
      <footer>
        <hr />
        <p>Site generated
        by <a href="https://github.com/greghendershott/frog">Frog</a>,
        the <strong>fr</strong>ozen bl<strong>og</strong> tool.</p>
        <p>Using <a href="http://twitter.github.com/bootstrap/index.html">Bootstrap</a>.</p>
        <ul>
            <li><em>Copyright 2014-2017 by Henry Brooks </em>.</li>
        </ul>
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  </body>
</html>