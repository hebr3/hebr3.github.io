<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>hackerrank - Climbing the Leaderboard</title>
    <meta name="description" content="While working through the algorithm problem sets available at hackerrank I found another problem that required Dynamic Programming technics to solve completely. Climbing the Leaderboard requires an `O(n)` solution to complete the activity before it times ...">
    <meta name="author"      content="Henry Brooks">
    <meta name="keywords"    content="hackerrank, Dynamic Programming, Memoization, Racket, Author: Henry Brooks">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="http://www.example.com/2017/09/hackerrank-climbing-the-leaderboard.html">
    <link rel="next" href="/2017/09/mcs521-reading-assignment-1-can-we-make-operating-systems-reliable-and-secure.html">
    <link rel="prev" href="/2017/09/sql-queries-in-prolog.html">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml"
          href="/feeds/all.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml"
          href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-xxxxx', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <!-- A standard Twitter Bootstrap nav bar -->
    <header class="navbar navbar-default navbar-inverse"
            role="banner">
      <div class="container">
        <div class="navbar-header">
          <button type="button"
                  class="navbar-toggle"
                  data-toggle="collapse"
                  data-target=".our-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/index.html" class="navbar-brand">Henry Brooks</a>
        </div>
        <div class="collapse navbar-collapse our-nav-collapse"
             role="navigation">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Tags <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">All Posts</a></li>

<li><a href="/tags/20-Project.html">20% Project</a></li>

<li><a href="/tags/Assembly.html">Assembly</a></li>

<li><a href="/tags/Author-Henry-Brooks.html">Author: Henry Brooks</a></li>

<li><a href="/tags/C.html">C++</a></li>

<li><a href="/tags/Case-Study.html">Case Study</a></li>

<li><a href="/tags/CodeFights.html">CodeFights</a></li>

<li><a href="/tags/CS211.html">CS211</a></li>

<li><a href="/tags/CS231.html">CS231</a></li>

<li><a href="/tags/Cybersecurity.html">Cybersecurity</a></li>

<li><a href="/tags/Daily-Desmos.html">Daily Desmos</a></li>

<li><a href="/tags/Desmos.html">Desmos</a></li>

<li><a href="/tags/DSL.html">DSL</a></li>

<li><a href="/tags/Dynamic-Programming.html">Dynamic Programming</a></li>

<li><a href="/tags/hackerrank.html">hackerrank</a></li>

<li><a href="/tags/Haskell.html">Haskell</a></li>

<li><a href="/tags/MCS511.html">MCS511</a></li>

<li><a href="/tags/Memoization.html">Memoization</a></li>

<li><a href="/tags/MIS522.html">MIS522</a></li>

<li><a href="/tags/Project-Euler.html">Project Euler</a></li>

<li><a href="/tags/Prolog.html">Prolog</a></li>

<li><a href="/tags/Python.html">Python</a></li>

<li><a href="/tags/Racket.html">Racket</a></li>

<li><a href="/tags/Reading-Assignment.html">Reading Assignment</a></li>

<li><a href="/tags/SQL.html">SQL</a></li>

<li><a href="/tags/Teaching-Credential.html">Teaching Credential</a></li>
              </ul>
            </li>
            <li>
              <a href="/About.html">About</a>
            </li> 
            <li><a href="/feeds/all.atom.xml">Atom</a></li>
            <li><a href="/feeds/all.rss.xml">RSS</a></li>
          </ul>
        </div>
      </div>
    </header>
    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">





          <article>
  <header>
    <h1>hackerrank - Climbing the Leaderboard</h1>
    <p class='date-and-tags'>
<time datetime="2017-09-12" pubdate="true">2017-09-12</time> :: <span class="tags"><a href="/tags/hackerrank.html">hackerrank</a>, <a href="/tags/Dynamic-Programming.html">Dynamic Programming</a>, <a href="/tags/Memoization.html">Memoization</a>, <a href="/tags/Racket.html">Racket</a></span></p>
    <p class='authors'>By: <span class="authors"><a href="/tags/Author-Henry-Brooks.html">Henry Brooks</a></span></p>
  </header>

<p>While working through the algorithm problem sets available at <a href="https://www.hackerrank.com">hackerrank</a> I found another problem that required Dynamic Programming technics to solve completely. <a href="https://www.hackerrank.com/challenges/climbing-the-leaderboard/problem">Climbing the Leaderboard</a> requires an <code>O(n)</code> solution to complete the activity before it times out.</p>
<!-- more-->

<h2 id="description">Description</h2>

<p>Alice is playing an arcade game and wants to climb to the top of the leaderboard. Can you help her track her ranking as she beats each level? The game uses <a href="https://en.wikipedia.org/wiki/Ranking#Dense_ranking_.28.221223.22_ranking.29">Dense Ranking</a>, so its leaderboard works like this:</p>

<ul>
 <li>
  <p>The player with the highest score is ranked number 1 on the leaderboard.</p></li>
 <li>
  <p>Players who have equal scores receive the same ranking number, and the next player(s) receive the immediately following ranking number.</p></li></ul>

<p>For example, four players have the scores <code>100</code>, <code>90</code>, <code>90</code>, and <code>80</code>. Those players will have ranks <code>1</code>, <code>2</code>, <code>2</code>, and <code>3</code>, respectively.</p>

<p>When Alice starts playing, there are already <code>n</code> people on the leaderboard. The score of each player <code>i</code> is denoted by <code>s_i</code>. Alice plays for <code>m</code> levels, and we denote her total score after passing each level <code>j</code> as <code>alice_j</code>. After completing each level, Alice wants to know her current rank.</p>

<p>You are given an array, <code>scores</code>, of monotonically decreasing leaderboard scores, and another array, <code>alice</code>, of Alice&rsquo;s cumulative scores for each level of the game. You must print <code>m</code> integers. The <code>j^th</code> integer should indicate the current rank of alice after passing the <code>j^th</code> level.</p>

<h2 id="version-1">Version 1</h2>

<p>I began by creating functions that would read the list and determine location where we should place the new score.</p>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let*))" style="color: inherit">let*</a></span> <span class="p">([</span><span class="n">n</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">)]</span>
       <span class="p">[</span><span class="n">N</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">n</span><span class="p">])</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">))]</span>
       <span class="p">[</span><span class="n">N*</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/list..rkt)._sort))" style="color: inherit">sort</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._remove-duplicates))" style="color: inherit">remove-duplicates</a></span> <span class="n">N</span><span class="p">)</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" style="color: inherit">&gt;</a></span><span class="p">)]</span>
       <span class="p">[</span><span class="n">N**</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">N*</span><span class="p">][</span><span class="n">j</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._length))" style="color: inherit">length</a></span> <span class="n">N*</span><span class="p">)])</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" style="color: inherit">cons</a></span> <span class="n">i</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" style="color: inherit">add1</a></span> <span class="n">j</span><span class="p">)))]</span>
       <span class="p">[</span><span class="n">m</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">)]</span>
       <span class="p">[</span><span class="n">M</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">m</span><span class="p">])</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">))])</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/places.html#(form._((lib._racket/place..rkt)._place))" style="color: inherit">place</a></span> <span class="n">i</span> <span class="n">L</span><span class="p">)</span>
    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._cond))" style="color: inherit">cond</a></span> <span class="p">[(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" style="color: inherit">and</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3c))" style="color: inherit">&lt;</a></span> <span class="n">i</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._caar))" style="color: inherit">caar</a></span> <span class="n">L</span><span class="p">))</span>
                <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._empty~3f))" style="color: inherit">empty?</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdr))" style="color: inherit">cdr</a></span> <span class="n">L</span><span class="p">)))</span>
           <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" style="color: inherit">add1</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdar))" style="color: inherit">cdar</a></span> <span class="n">L</span><span class="p">))]</span>
          <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3d))" style="color: inherit">=</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._caar))" style="color: inherit">caar</a></span> <span class="n">L</span><span class="p">)</span> <span class="n">i</span><span class="p">)</span>
           <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdar))" style="color: inherit">cdar</a></span> <span class="n">L</span><span class="p">)]</span>
          <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3c))" style="color: inherit">&lt;</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._caar))" style="color: inherit">caar</a></span> <span class="n">L</span><span class="p">)</span> <span class="n">i</span><span class="p">)</span>
           <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdar))" style="color: inherit">cdar</a></span> <span class="n">L</span><span class="p">)]</span>
          <span class="p">[</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" style="color: inherit">else</a></span>
           <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/places.html#(form._((lib._racket/place..rkt)._place))" style="color: inherit">place</a></span> <span class="n">i</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdr))" style="color: inherit">cdr</a></span> <span class="n">L</span><span class="p">))]))</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for))" style="color: inherit">for</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">M</span><span class="p">])</span>
    <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Writing.html#(def._((lib._racket/private/misc..rkt)._displayln))" style="color: inherit">displayln</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/places.html#(form._((lib._racket/place..rkt)._place))" style="color: inherit">place</a></span> <span class="n">i</span> <span class="n">N**</span><span class="p">))))</span>

<span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" style="color: inherit">&gt;</a></span> <span class="n">cpu</span> <span class="n">time:</span> <span class="mi">10740</span> <span class="n">real</span> <span class="n">time:</span> <span class="mi">10756</span> <span class="n">gc</span> <span class="n">time:</span> <span class="mi">12</span>
<span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" style="color: inherit">&gt;</a></span> <span class="n">cpu</span> <span class="n">time:</span> <span class="mi">11304</span> <span class="n">real</span> <span class="n">time:</span> <span class="mi">11100</span> <span class="n">gc</span> <span class="n">time:</span> <span class="mi">16</span>
<span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" style="color: inherit">&gt;</a></span> <span class="n">cpu</span> <span class="n">time:</span> <span class="mi">10700</span> <span class="n">real</span> <span class="n">time:</span> <span class="mi">10701</span> <span class="n">gc</span> <span class="n">time:</span> <span class="mi">4</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h2 id="version-2">Version 2</h2>

<p>My initial attempt at increasing the speed of the funtion was to cleaning up the <code>place</code> funtion, specifically the conditional statement with it&rsquo;s 4 branches. While I was able to remove a clause from the condition and increased the execution speed by a factor of 2, the <code>place</code> function was still taking <code>O(n^2)</code> time.</p>

<p>I also recieved a small improvement in the speed of the program by rereading the discription and realizing that I didn&rsquo;t need to sort the list of scores as they are given in descreasing order. However this improvement wasn&rsquo;t significant and my testing showed that it only increased the performance by approximately <code>3%</code>.</p>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let*))" style="color: inherit">let*</a></span> <span class="p">([</span><span class="n">n</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">)]</span>
       <span class="p">[</span><span class="n">N</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">n</span><span class="p">])</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">))]</span>
       <span class="p">[</span><span class="n">N*</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._remove-duplicates))" style="color: inherit">remove-duplicates</a></span> <span class="n">N</span><span class="p">)]</span>
       <span class="p">[</span><span class="n">N**</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" style="color: inherit">map</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" style="color: inherit">lambda</a></span> <span class="p">(</span><span class="n">x</span> <span class="n">y</span><span class="p">)</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" style="color: inherit">cons</a></span> <span class="n">x</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" style="color: inherit">add1</a></span> <span class="n">y</span><span class="p">)))</span>
                 <span class="n">N*</span>
                 <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._range))" style="color: inherit">range</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._length))" style="color: inherit">length</a></span> <span class="n">N*</span><span class="p">)))]</span>
       <span class="p">[</span><span class="n">m</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">)]</span>
       <span class="p">[</span><span class="n">M</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">m</span><span class="p">])</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">))])</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/places.html#(form._((lib._racket/place..rkt)._place))" style="color: inherit">place</a></span> <span class="n">n</span> <span class="n">l</span><span class="p">)</span>
    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._cond))" style="color: inherit">cond</a></span>
      <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e~3d))" style="color: inherit">&gt;=</a></span> <span class="n">n</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._caar))" style="color: inherit">caar</a></span> <span class="n">l</span><span class="p">))</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdar))" style="color: inherit">cdar</a></span> <span class="n">l</span><span class="p">)]</span>
      <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._empty~3f))" style="color: inherit">empty?</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdr))" style="color: inherit">cdr</a></span> <span class="n">l</span><span class="p">))</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" style="color: inherit">add1</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdar))" style="color: inherit">cdar</a></span> <span class="n">l</span><span class="p">))]</span>
      <span class="p">[</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" style="color: inherit">else</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/places.html#(form._((lib._racket/place..rkt)._place))" style="color: inherit">place</a></span> <span class="n">n</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdr))" style="color: inherit">cdr</a></span> <span class="n">l</span><span class="p">))]))</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for))" style="color: inherit">for</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">M</span><span class="p">])</span>
    <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Writing.html#(def._((lib._racket/private/misc..rkt)._displayln))" style="color: inherit">displayln</a></span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/places.html#(form._((lib._racket/place..rkt)._place))" style="color: inherit">place</a></span> <span class="n">i</span> <span class="n">N**</span><span class="p">))))</span>

<span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" style="color: inherit">&gt;</a></span> <span class="n">cpu</span> <span class="n">time:</span> <span class="mi">5588</span> <span class="n">real</span> <span class="n">time:</span> <span class="mi">5589</span> <span class="n">gc</span> <span class="n">time:</span> <span class="mi">0</span>
<span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" style="color: inherit">&gt;</a></span> <span class="n">cpu</span> <span class="n">time:</span> <span class="mi">5676</span> <span class="n">real</span> <span class="n">time:</span> <span class="mi">5673</span> <span class="n">gc</span> <span class="n">time:</span> <span class="mi">8</span>
<span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" style="color: inherit">&gt;</a></span> <span class="n">cpu</span> <span class="n">time:</span> <span class="mi">5808</span> <span class="n">real</span> <span class="n">time:</span> <span class="mi">5815</span> <span class="n">gc</span> <span class="n">time:</span> <span class="mi">12</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h2 id="version-3">Version 3</h2>

<p>After reading some of the comments on the problem I decided to refactor the <code>place</code> function to take advantage of <a href="https://en.wikipedia.org/wiki/Dynamic_programming">dynamic programming</a> concepts. Specifically, to cache intermediate results so that the program would run in <code>O(n)</code> time.</p>

<div class="brush: racket">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let*))" style="color: inherit">let*</a></span> <span class="p">([</span><span class="n">n</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">)]</span>
       <span class="p">[</span><span class="n">N</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">n</span><span class="p">])</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">))]</span>
       <span class="p">[</span><span class="n">N*</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._remove-duplicates))" style="color: inherit">remove-duplicates</a></span> <span class="n">N</span><span class="p">)]</span>
       <span class="p">[</span><span class="n">len</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._length))" style="color: inherit">length</a></span> <span class="n">N*</span><span class="p">)]</span>
       <span class="p">[</span><span class="n">m</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">)]</span>
       <span class="p">[</span><span class="n">M</span> <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for/list))" style="color: inherit">for/list</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">m</span><span class="p">])</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Reading.html#(def._((quote._~23~25kernel)._read))" style="color: inherit">read</a></span><span class="p">))])</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="n">index</span> <span class="mi">0</span><span class="p">)</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/places.html#(def._((lib._racket/place..rkt)._dynamic-place))" style="color: inherit">dynamic-place</a></span> <span class="n">n</span> <span class="n">l</span> <span class="n">i</span><span class="p">)</span>
    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" style="color: inherit">define</a></span> <span class="p">(</span><span class="n">update-call</span><span class="p">)</span>
      <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/set_.html#(form._((quote._~23~25kernel)._set!))" style="color: inherit">set!</a></span> <span class="n">index</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" style="color: inherit">add1</a></span> <span class="n">index</span><span class="p">))</span>
      <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/places.html#(def._((lib._racket/place..rkt)._dynamic-place))" style="color: inherit">dynamic-place</a></span> <span class="n">n</span> <span class="n">l</span> <span class="n">index</span><span class="p">))</span>
    <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._cond))" style="color: inherit">cond</a></span>
      <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3d))" style="color: inherit">=</a></span> <span class="n">i</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._length))" style="color: inherit">length</a></span> <span class="n">l</span><span class="p">))</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._-))" style="color: inherit">-</a></span> <span class="n">len</span> <span class="n">i</span> <span class="mi">-1</span><span class="p">)]</span>
      <span class="p">[(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3c))" style="color: inherit">&lt;</a></span> <span class="n">n</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list-ref))" style="color: inherit">list-ref</a></span> <span class="n">l</span> <span class="n">i</span><span class="p">))</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._-))" style="color: inherit">-</a></span> <span class="n">len</span> <span class="n">i</span> <span class="mi">-1</span><span class="p">)]</span>
      <span class="p">[</span><span class="k"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" style="color: inherit">else</a></span> <span class="p">(</span><span class="n">update-call</span><span class="p">)]))</span>
  <span class="p">(</span><span class="k"><a href="http://docs.racket-lang.org/reference/for.html#(form._((lib._racket/private/base..rkt)._for))" style="color: inherit">for</a></span> <span class="p">([</span><span class="n">i</span> <span class="n">M</span><span class="p">])</span>
    <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/Writing.html#(def._((lib._racket/private/misc..rkt)._displayln))" style="color: inherit">displayln</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/places.html#(def._((lib._racket/place..rkt)._dynamic-place))" style="color: inherit">dynamic-place</a></span> <span class="n">i</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/list..rkt)._reverse))" style="color: inherit">reverse</a></span> <span class="n">N*</span><span class="p">)</span> <span class="n">index</span><span class="p">))))</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h2 id="version-4">Version 4</h2>

<p>I could never get my racket version to run in <code>O(n)</code> time. Writing imprerative code has always been dificult for me in racket.</p>

<p>I was able to create some python code that was able to run in <code>O(n)</code> time though. It uses a simple while condition inside of a for loop. In a worse case senerio this code runs in <code>O(n+m)</code> time.</p>

<div class="brush: python">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="ch">#!/bin/python3</span>

<span class="kn">import</span> <span class="nn">sys</span>


<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">scores_temp</span><span class="p">)</span> <span class="k">for</span> <span class="n">scores_temp</span> <span class="ow">in</span> <span class="nb">input</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>
<span class="n">m</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="n">alice</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">alice_temp</span><span class="p">)</span> <span class="k">for</span> <span class="n">alice_temp</span> <span class="ow">in</span> <span class="nb">input</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>
<span class="c1"># your code goes here</span>
<span class="n">scores</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">scores</span><span class="p">)))</span>

<span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>

<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">alice</span><span class="p">:</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">index</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">a</span> <span class="o">&gt;=</span> <span class="n">scores</span><span class="p">[</span><span class="n">index</span><span class="p">]):</span>
        <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">print</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">index</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table>
</div>
  <footer>
    <ul class="pager">
    <li class="previous">
      <a href="/2017/09/sql-queries-in-prolog.html">&larr; <em>SQL queries in Prolog</em></a>
    </li>
    <li class="next">
      <a href="/2017/09/mcs521-reading-assignment-1-can-we-make-operating-systems-reliable-and-secure.html"><em>MCS521 Reading Assignment 1 - Can We Make Operating Systems Reliable and Secure?</em> &rarr;</a>
    </li>
    </ul>
  </footer>
</article>
        </div>
      </div>
      <footer>
        <hr />
        <p>Site generated
        by <a href="https://github.com/greghendershott/frog">Frog</a>,
        the <strong>fr</strong>ozen bl<strong>og</strong> tool.</p>
        <p>Using <a href="http://twitter.github.com/bootstrap/index.html">Bootstrap</a>.</p>
        <ul>
            <li><em>Copyright 2014-2017 by Henry Brooks </em>.</li>
        </ul>
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  </body>
</html>