<!DOCTYPE html>
<html lang="en" class="gridded">
    <head>
        <meta charset="utf-8">
        <meta name="generator" content="Racket 6.8 + Pollen 1.1.1266.881">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>CS231-Lab4</title>
        <link rel="stylesheet" href="/styles.css" media="screen">
                <script type="text/javascript"
                  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
                </script>
                <script type="text/x-mathjax-config">
                  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});
                </script>
    </head>
    <body>
        <header class="main">
            <p><a href="/index.html" class="home">Henry Brooks</a></p>
            <nav>
                <ul>
                    <li><a href="/topics.html">Topics</a></li>
                    <li><a href="/about.html">About</a></li>
                </ul>
            </nav>
        </header>

        <article>
            <header>
                <h1>CS231-Lab4</h1>
                <p>Scribbled <a href="/posts\cs231-lab4.html" class="permlink"><time datetime="2017-02-06">Monday, February 6th, 2017</time></a>
                </p>
                <ul>
                <li><a href="/topics.html#CS231">#CS231</a></li><li><a href="/topics.html#Assembly">#Assembly</a></li></ul>
            </header>

<div class="filebox"><div class="filename" decode="exclude">Lab4.asm</div><div class="highlight"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre></div></td><td class="code"><div class="source"><pre><span></span><span class="c">## Henry Brooks</span>
<span class="c">## CS231 Lab4 sum numbers</span>

                <span class="na">.data</span>
<span class="nl">space:</span>  	<span class="na">.asciiz</span> 	<span class="s">"\n"</span>
<span class="nl">header1:</span>	<span class="na">.asciiz</span> 	<span class="s">"===============================================================================\n"</span>
<span class="nl">header2:</span>	<span class="na">.asciiz</span> 	<span class="s">"Program Description: This program asks a user how many numbers they want to sum\n"</span>
<span class="nl">header3:</span>	<span class="na">.asciiz</span> 	<span class="s">"Author:              Henry Brooks\n"</span>
<span class="nl">header4:</span>	<span class="na">.asciiz</span> 	<span class="s">"Creation Date:       02/06/2017\n"</span>
<span class="nl">header5:</span>	<span class="na">.asciiz</span> 	<span class="s">"===============================================================================\n"</span>

<span class="nl">nl:</span>		<span class="na">.asciiz</span> 	<span class="s">"\n"</span>

<span class="nl">query:</span>		<span class="na">.asciiz</span>		<span class="s">"How many numbers would you like to add together? "</span>
<span class="nl">answer:</span>		<span class="na">.asciiz</span>		<span class="s">"The sum of the numbers is "</span>
                <span class="na">.text</span>
<span class="nl">main:</span>
<span class="c">################### Print header information</span>
                <span class="nf">li</span> 			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>
                <span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header1</span>
                <span class="nf">syscall</span>
                <span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header2</span>
                <span class="nf">syscall</span>
                <span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header3</span>
                <span class="nf">syscall</span>
                <span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header4</span>
                <span class="nf">syscall</span>
                <span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header5</span>
                <span class="nf">syscall</span>

<span class="c">################### Print query</span>
                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">query</span>
                <span class="nf">syscall</span>

<span class="c">################### Take number of values the user wants to sum</span>
<span class="c">################### and save it to $s0</span>
                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">5</span>
                <span class="nf">syscall</span>

                <span class="nf">add</span> <span class="no">$s0</span><span class="p">,</span> <span class="no">$v0</span><span class="p">,</span> <span class="no">$0</span>

<span class="c">################### Initialize $s2 to 0 , sum = 0</span>
                <span class="nf">add</span> <span class="no">$s2</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="no">$0</span>

<span class="c">################### Loop to collect inputs from user</span>
<span class="c">################### if ( count == value) break</span>
<span class="c">###################   else sum += input</span>
<span class="c">###################        count++</span>
<span class="c">###################        loop</span>

<span class="nl">loop:</span>		<span class="nf">beq</span>			<span class="no">$s0</span><span class="p">,</span> <span class="no">$s1</span><span class="p">,</span> <span class="no">exit</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">5</span>
                <span class="nf">syscall</span>

                <span class="nf">add</span>			<span class="no">$s2</span><span class="p">,</span> <span class="no">$s2</span><span class="p">,</span> <span class="no">$v0</span>		<span class="c"># $s2 += $v0 , sum += input</span>
                <span class="nf">addi</span>			<span class="no">$s1</span><span class="p">,</span> <span class="no">$s1</span><span class="p">,</span> <span class="mi">1</span>		<span class="c"># $s1++ , count++</span>
                <span class="nf">j</span> <span class="no">loop</span>


<span class="nl">exit:</span>		<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">answer</span>
                <span class="nf">syscall</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">1</span>
                <span class="nf">add</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">$s2</span><span class="p">,</span> <span class="no">$0</span>
                <span class="nf">syscall</span>
</pre></div>
</td></tr></tbody></table></div></div><div class="filebox"><div class="filename" decode="exclude">Lab4b.asm</div><div class="highlight"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179</pre></div></td><td class="code"><div class="source"><pre><span></span><span class="c">## Henry Brooks</span>
<span class="c">## CS231 Lab4 divisiblity</span>

                <span class="na">.data</span>
<span class="nl">space:</span>  	<span class="na">.asciiz</span> 	<span class="s">"\n"</span>
<span class="nl">header1:</span>	<span class="na">.asciiz</span> 	<span class="s">"======================================================================\n"</span>
<span class="nl">header2:</span>	<span class="na">.asciiz</span> 	<span class="s">"Program Description: \tThis program asks a user how many numbers they\n\t\t\twant to find that are divisible by 6\n"</span>
<span class="nl">header3:</span>	<span class="na">.asciiz</span> 	<span class="s">"Author:              \tHenry Brooks\n"</span>
<span class="nl">header4:</span>	<span class="na">.asciiz</span> 	<span class="s">"Creation Date:       \t02/06/2017\n"</span>
<span class="nl">header5:</span>	<span class="na">.asciiz</span> 	<span class="s">"======================================================================\n"</span>

<span class="nl">nl:</span>		<span class="na">.asciiz</span> 	<span class="s">"\n"</span>

<span class="nl">query1:</span>		<span class="na">.asciiz</span>		<span class="s">"How many positive numbers that are divisable by 6 do you want to add?\n"</span>
<span class="nl">query2:</span>		<span class="na">.asciiz</span>		<span class="s">"Enter a number: "</span>
<span class="nl">badcount:</span>	<span class="na">.asciiz</span>		<span class="s">"Invalid number\nPlease enter a number greater than zero\n"</span>
<span class="nl">arrow:</span>		<span class="na">.asciiz</span>		<span class="s">"==&gt; "</span>
<span class="nl">good:</span>		<span class="na">.asciiz</span>		<span class="s">" is divisible by 6\n"</span>
<span class="nl">bad:</span>		<span class="na">.asciiz</span>		<span class="s">" is not divisible by 6. Enter another number.\n"</span>
<span class="nl">error1:</span>		<span class="na">.asciiz</span>		<span class="s">"**** ERROR: "</span>
<span class="nl">error2:</span>		<span class="na">.asciiz</span>		<span class="s">" is not in the range of 1 to 100. Enter another number.\n"</span>
<span class="nl">error3:</span>		<span class="na">.asciiz</span>		<span class="s">" is not a positive number. Enter another number.\n"</span>
<span class="nl">answer:</span>		<span class="na">.asciiz</span>		<span class="s">"The sum of the positive numbers between 1 and 100 that are divisible by 6, is: "</span>

                <span class="na">.text</span>
<span class="nl">main:</span>
<span class="c">################### Print header information</span>
                <span class="nf">li</span> 			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>
                <span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header1</span>
                <span class="nf">syscall</span>
                <span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header2</span>
                <span class="nf">syscall</span>
                <span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header3</span>
                <span class="nf">syscall</span>
                <span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header4</span>
                <span class="nf">syscall</span>
                <span class="nf">la</span> 			<span class="no">$a0</span><span class="p">,</span> <span class="no">header5</span>
                <span class="nf">syscall</span>

<span class="nl">main2:</span>
<span class="c">################### Print query</span>
                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">query1</span>
                <span class="nf">syscall</span>

<span class="c">################### Take user input</span>
                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">5</span>
                <span class="nf">syscall</span>

<span class="c">################### Check that input is valid</span>
                <span class="nf">ble</span>			<span class="no">$v0</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="no">badinput</span>

<span class="c">################## If input is good set $s0 to $v0</span>
                <span class="nf">add</span>			<span class="no">$s0</span><span class="p">,</span> <span class="no">$v0</span><span class="p">,</span> <span class="no">$0</span>

<span class="c">################### Initialize $s2 to 0 and $s1 to 0, sum = 0, count = 0</span>
                <span class="nf">add</span>			<span class="no">$s2</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="no">$0</span>
                <span class="nf">add</span>			<span class="no">$s1</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="no">$0</span>

<span class="c">################### Loop to collect inputs from user</span>
<span class="c">################### if ( count == value) break</span>
<span class="c">###################   else sum += input</span>
<span class="c">###################        count++</span>
<span class="c">###################        loop</span>

<span class="nl">loop:</span>		<span class="nf">beq</span>			<span class="no">$s0</span><span class="p">,</span> <span class="no">$s1</span><span class="p">,</span> <span class="no">exit</span>		<span class="c"># s0 = total, s1 = count</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">query2</span>		<span class="c"># load "enter number:" message</span>
                <span class="nf">syscall</span>						<span class="c"># print message</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">5</span>			<span class="c"># load user input program</span>
                <span class="nf">syscall</span>						<span class="c"># get user input, (cin)</span>

                <span class="nf">add</span>			<span class="no">$s3</span><span class="p">,</span> <span class="no">$v0</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># save input to save3 register</span>

                <span class="nf">beq</span>			<span class="no">$s3</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="no">gt100</span>		<span class="c"># run if input is zero</span>

                <span class="nf">blt</span>			<span class="no">$s3</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="no">ltzero</span>		<span class="c"># run if input is less than 0</span>

                <span class="nf">addi</span>			<span class="no">$t0</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="mi">100</span>		<span class="c"># make t0 = 100</span>
                <span class="nf">blt</span>			<span class="no">$t0</span><span class="p">,</span> <span class="no">$s3</span><span class="p">,</span> <span class="no">gt100</span>		<span class="c"># run if input is greater than 100</span>

                <span class="nf">addi</span>			<span class="no">$t0</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="mi">6</span>		<span class="c"># make t0 = 6</span>
                <span class="nf">div</span>			<span class="no">$s3</span><span class="p">,</span> <span class="no">$t0</span>		<span class="c"># divide input by 6</span>
                <span class="nf">mfhi</span>			<span class="no">$t0</span>			<span class="c"># move remainder of input/6 to t0</span>
                <span class="nf">bne</span>			<span class="no">$t0</span><span class="p">,</span> <span class="no">$0</span><span class="p">,</span> <span class="no">notdiv</span>		<span class="c"># run if not divisible by 6</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">arrow</span>		<span class="c"># load arrow string</span>
                <span class="nf">syscall</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">1</span>			<span class="c"># load print int</span>
                <span class="nf">add</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">$s3</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># load user input into arg0</span>
                <span class="nf">syscall</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">good</span>		<span class="c"># load divisiblity good message</span>
                <span class="nf">syscall</span>

                <span class="nf">add</span>			<span class="no">$s2</span><span class="p">,</span> <span class="no">$s2</span><span class="p">,</span> <span class="no">$s3</span>		<span class="c"># $s2 += $v0 , sum += input</span>
                <span class="nf">addi</span>			<span class="no">$s1</span><span class="p">,</span> <span class="no">$s1</span><span class="p">,</span> <span class="mi">1</span>		<span class="c"># $s1++ , count++</span>
                <span class="nf">j</span> <span class="no">loop</span>

<span class="c">#################### User input for count is less than or equal to 0</span>
<span class="nl">badinput:</span>	<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">badcount</span>
                <span class="nf">syscall</span>

                <span class="nf">j</span>			<span class="no">main2</span>

<span class="c">##################### input is less than 0</span>
<span class="nl">ltzero:</span>		<span class="nf">add</span>			<span class="no">$t0</span><span class="p">,</span> <span class="no">$v0</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># send input to temp</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">arrow</span>		<span class="c"># load arrow string</span>
                <span class="nf">syscall</span>						<span class="c"># print string</span>

                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">error1</span>		<span class="c"># load error header</span>
                <span class="nf">syscall</span>						<span class="c"># print error header</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">1</span>			<span class="c"># load print int</span>
                <span class="nf">add</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">$t0</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># load temp into arg0</span>
                <span class="nf">syscall</span>						<span class="c"># print temp</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">error3</span>		<span class="c"># load less than zero message</span>
                <span class="nf">syscall</span>						<span class="c"># print message</span>

                <span class="nf">j</span>			<span class="no">loop</span>			<span class="c"># return to loop</span>

<span class="c">#################### input is greater than 100</span>
<span class="nl">gt100:</span>		<span class="nf">add</span>			<span class="no">$t0</span><span class="p">,</span> <span class="no">$v0</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># send input to temp</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">arrow</span>		<span class="c"># load arrow string</span>
                <span class="nf">syscall</span>						<span class="c"># print string</span>

                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">error1</span>		<span class="c"># load error header</span>
                <span class="nf">syscall</span>						<span class="c"># print error header</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">1</span>			<span class="c"># load print int</span>
                <span class="nf">add</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">$t0</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># load temp into arg0</span>
                <span class="nf">syscall</span>						<span class="c"># print temp</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">error2</span>		<span class="c"># load less than zero message</span>
                <span class="nf">syscall</span>						<span class="c"># print message</span>

                <span class="nf">j</span>			<span class="no">loop</span>			<span class="c"># return to loop</span>

<span class="c">#################### input is not divisible by 6</span>
<span class="nl">notdiv:</span>		<span class="nf">add</span>			<span class="no">$t0</span><span class="p">,</span> <span class="no">$v0</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># send input to temp</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">arrow</span>		<span class="c"># load arrow string</span>
                <span class="nf">syscall</span>

                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">error1</span>		<span class="c"># load error header</span>
                <span class="nf">syscall</span>						<span class="c"># print error header</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">1</span>			<span class="c"># load print int</span>
                <span class="nf">add</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">$t0</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># load temp into arg0</span>
                <span class="nf">syscall</span>						<span class="c"># print temp</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">bad</span>		<span class="c"># load not divisible message</span>
                <span class="nf">syscall</span>

                <span class="nf">j</span>			<span class="no">loop</span>

<span class="c">#################### exit from program</span>
<span class="nl">exit:</span>		<span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">4</span>			<span class="c"># load print string</span>
                <span class="nf">la</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">answer</span>		<span class="c"># load answer message</span>
                <span class="nf">syscall</span>						<span class="c"># print answer message</span>

                <span class="nf">li</span>			<span class="no">$v0</span><span class="p">,</span> <span class="mi">1</span>			<span class="c"># load print int</span>
                <span class="nf">add</span>			<span class="no">$a0</span><span class="p">,</span> <span class="no">$s2</span><span class="p">,</span> <span class="no">$0</span>		<span class="c"># load sum</span>
                <span class="nf">syscall</span>						<span class="c"># print sum</span>
</pre></div>
</td></tr></tbody></table></div></div>
        </article>
        <footer class="main">
            <ul>
                <li><a href="mailto:brook057@cougars.csusm.edu">brook057@cougars.csusm.edu</a></li>
                <li>Source code on <a href="https://github.com/hebr3/hebr3.github.io"><b>Github</b></a></li>
            </ul>
        </footer>
    </body>
</html>